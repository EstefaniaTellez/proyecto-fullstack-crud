<div class="card">
  <div class="flex justify-content-between align-items-center mb-4">
    <h2>📋 Gestión de Proyectos</h2>
    <button (click)="navigateToCreate()" 
            style="background: #10B981; border: none; color: white; padding: 0.75rem 1.5rem; border-radius: 8px;">
      ➕ Nuevo Proyecto
    </button>
  </div>

  @if (loading()) {
    <div class="text-center p-5">
      <i class="pi pi-spin pi-spinner" style="font-size: 2rem;"></i>
      <p>Cargando proyectos...</p>
    </div>
  } @else {
    <div>
      @for (project of projects(); track project.projectId) {
        <div style="border: 1px solid #ddd; padding: 1.5rem; margin: 1rem 0; border-radius: 8px;">
          <h3>{{ project.name }}</h3>
          <p><strong>Cliente:</strong> {{ project.client }}</p>
          <p><strong>Estado:</strong> 
            <span [style.color]="getStatusColor(project.status)">
              {{ getStatusLabel(project.status) }}
            </span>
          </p>
          <p><strong>Fechas:</strong> {{ project.startDate | date:'dd/MM/yyyy' }} - 
             {{ project.endDate | date:'dd/MM/yyyy' }}</p>
          
          <div style="display: flex; gap: 1rem; margin-top: 1rem;">
            <button (click)="editProject(project.projectId)"
                    style="background: #3B82F6; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px;">
              ✏️ Editar
            </button>
            
            <button (click)="deleteProject(project.projectId)"
                    style="background: #EF4444; color: white; border: none; padding: 0.5rem 1rem; border-radius: 6px;">
              🗑️ Eliminar
            </button>
          </div>
        </div>
      }
    </div>
  }
</div>